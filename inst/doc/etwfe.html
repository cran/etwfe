<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Introduction to etwfe</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
<script>$(document).ready(function(){
    if (typeof $('[data-toggle="tooltip"]').tooltip === 'function') {
        $('[data-toggle="tooltip"]').tooltip();
    }
    if ($('[data-toggle="popover"]').popover === 'function') {
        $('[data-toggle="popover"]').popover();
    }
});
</script>
<style type="text/css">
.lightable-minimal {
border-collapse: separate;
border-spacing: 16px 1px;
width: 100%;
margin-bottom: 10px;
}
.lightable-minimal td {
margin-left: 5px;
margin-right: 5px;
}
.lightable-minimal th {
margin-left: 5px;
margin-right: 5px;
}
.lightable-minimal thead tr:last-child th {
border-bottom: 2px solid #00000050;
empty-cells: hide;
}
.lightable-minimal tbody tr:first-child td {
padding-top: 0.5em;
}
.lightable-minimal.lightable-hover tbody tr:hover {
background-color: #f5f5f5;
}
.lightable-minimal.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-classic {
border-top: 0.16em solid #111111;
border-bottom: 0.16em solid #111111;
width: 100%;
margin-bottom: 10px;
margin: 10px 5px;
}
.lightable-classic tfoot tr td {
border: 0;
}
.lightable-classic tfoot tr:first-child td {
border-top: 0.14em solid #111111;
}
.lightable-classic caption {
color: #222222;
}
.lightable-classic td {
padding-left: 5px;
padding-right: 5px;
color: #222222;
}
.lightable-classic th {
padding-left: 5px;
padding-right: 5px;
font-weight: normal;
color: #222222;
}
.lightable-classic thead tr:last-child th {
border-bottom: 0.10em solid #111111;
}
.lightable-classic.lightable-hover tbody tr:hover {
background-color: #F9EEC1;
}
.lightable-classic.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-classic-2 {
border-top: 3px double #111111;
border-bottom: 3px double #111111;
width: 100%;
margin-bottom: 10px;
}
.lightable-classic-2 tfoot tr td {
border: 0;
}
.lightable-classic-2 tfoot tr:first-child td {
border-top: 3px double #111111;
}
.lightable-classic-2 caption {
color: #222222;
}
.lightable-classic-2 td {
padding-left: 5px;
padding-right: 5px;
color: #222222;
}
.lightable-classic-2 th {
padding-left: 5px;
padding-right: 5px;
font-weight: normal;
color: #222222;
}
.lightable-classic-2 tbody tr:last-child td {
border-bottom: 3px double #111111;
}
.lightable-classic-2 thead tr:last-child th {
border-bottom: 1px solid #111111;
}
.lightable-classic-2.lightable-hover tbody tr:hover {
background-color: #F9EEC1;
}
.lightable-classic-2.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-material {
min-width: 100%;
white-space: nowrap;
table-layout: fixed;
font-family: Roboto, sans-serif;
border: 1px solid #EEE;
border-collapse: collapse;
margin-bottom: 10px;
}
.lightable-material tfoot tr td {
border: 0;
}
.lightable-material tfoot tr:first-child td {
border-top: 1px solid #EEE;
}
.lightable-material th {
height: 56px;
padding-left: 16px;
padding-right: 16px;
}
.lightable-material td {
height: 52px;
padding-left: 16px;
padding-right: 16px;
border-top: 1px solid #eeeeee;
}
.lightable-material.lightable-hover tbody tr:hover {
background-color: #f5f5f5;
}
.lightable-material.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-material.lightable-striped tbody td {
border: 0;
}
.lightable-material.lightable-striped thead tr:last-child th {
border-bottom: 1px solid #ddd;
}
.lightable-material-dark {
min-width: 100%;
white-space: nowrap;
table-layout: fixed;
font-family: Roboto, sans-serif;
border: 1px solid #FFFFFF12;
border-collapse: collapse;
margin-bottom: 10px;
background-color: #363640;
}
.lightable-material-dark tfoot tr td {
border: 0;
}
.lightable-material-dark tfoot tr:first-child td {
border-top: 1px solid #FFFFFF12;
}
.lightable-material-dark th {
height: 56px;
padding-left: 16px;
padding-right: 16px;
color: #FFFFFF60;
}
.lightable-material-dark td {
height: 52px;
padding-left: 16px;
padding-right: 16px;
color: #FFFFFF;
border-top: 1px solid #FFFFFF12;
}
.lightable-material-dark.lightable-hover tbody tr:hover {
background-color: #FFFFFF12;
}
.lightable-material-dark.lightable-striped tbody tr:nth-child(even) {
background-color: #FFFFFF12;
}
.lightable-material-dark.lightable-striped tbody td {
border: 0;
}
.lightable-material-dark.lightable-striped thead tr:last-child th {
border-bottom: 1px solid #FFFFFF12;
}
.lightable-paper {
width: 100%;
margin-bottom: 10px;
color: #444;
}
.lightable-paper tfoot tr td {
border: 0;
}
.lightable-paper tfoot tr:first-child td {
border-top: 1px solid #00000020;
}
.lightable-paper thead tr:last-child th {
color: #666;
vertical-align: bottom;
border-bottom: 1px solid #00000020;
line-height: 1.15em;
padding: 10px 5px;
}
.lightable-paper td {
vertical-align: middle;
border-bottom: 1px solid #00000010;
line-height: 1.15em;
padding: 7px 5px;
}
.lightable-paper.lightable-hover tbody tr:hover {
background-color: #F9EEC1;
}
.lightable-paper.lightable-striped tbody tr:nth-child(even) {
background-color: #00000008;
}
.lightable-paper.lightable-striped tbody td {
border: 0;
}
</style>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Introduction to etwfe</h1>



<div id="background" class="section level2">
<h2>Background</h2>
<p>A canonical research design for social scientists is the so-called
“differences-in-differences” (DiD) design.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> In the classic 2x2 DiD
case (two units, two periods), a simple interaction effect between two
dummy variables suffices to recover the treatment effect. In base R this
might look something like:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(y <span class="sc">~</span> Dtreated_unit <span class="sc">*</span> Dpost_treatment, <span class="at">data =</span> somedata)</span></code></pre></div>
<p>In practice, rather than specify the interaction directly,
researchers often use an equivalent formulation known as <em>two-way
fixed effects</em> (TWFE). The core idea of TWFE is that we can subsume
our dummy variables above (<code>Dtreated_unit</code> and
<code>Dpost_treatment</code>) by adding unit and time fixed effects to
the regression. A single treatment dummy can then be used to capture the
effect of treatment directly. This shortcut is especially nice for more
complicated panel data settings with multiple units and multiple times
periods. A TWFE in base R might look as follows:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(y <span class="sc">~</span> Dtreat <span class="sc">+</span> <span class="fu">factor</span>(id) <span class="sc">+</span> <span class="fu">factor</span>(period), <span class="at">data =</span> somedata)</span></code></pre></div>
<p>This type of regression is easy to run and intuitive, and for a long
time everyone was happy. But it was too good to last. A cottage industry
of smart research now demonstrates that things aren’t quite so simple.
Among other things, the core TWFE result is very likely to be biased if
the rollout of treatment was staggered over time (a common
occurrence).</p>
<p>Fortunately, just as econometricians were taking away one of our
favourite tools, they were kind enough to replace it with some new ones.
Among these, the proposed approach by Wooldridge (<a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3906345">2021</a>,
<a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=4183726">2022</a>)
is noteworthy. His idea might be paraphrased as stating that the problem
with TWFE is not that we were doing it in the first place. Rather, it’s
that we weren’t doing it enough. Instead of only including a single
treatment × time interaction, Wooldridge recommends that we saturate our
model with all possible interactions between treatment and time
variables, including treatment cohorts, as well as other covariates. He
goes on to show that this approach actually draws an equivalence between
different types of estimators (pooled OLS, twoway Mundlak regression,
etc.) So it’s not entirely clear what to call it. But Wooldridge refers
to the general idea as as <em>extended</em> TWFE—or, ETWFE—which I
rather like and is where this package takes its name.</p>
<p>The Wooldridge ETWFE solution is intuitive and elegant. But it is
also rather tedious and error prone to code up manually. The
<strong>etwfe</strong> package aims to simplify the process by providing
convenience functions that do the work for you.</p>
</div>
<div id="dataset" class="section level2">
<h2>Dataset</h2>
<p>To demonstrate the core functionality of <strong>etwfe</strong>,
we’ll use the <a href="https://bcallaway11.github.io/did/reference/mpdta.html"><code>mpdta</code></a>
dataset on US teen employment from the <strong>did</strong> package
(which you’ll need to install separately).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;did&quot;)</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;mpdta&quot;</span>, <span class="at">package =</span> <span class="st">&quot;did&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mpdta)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     year countyreal     lpop     lemp first.treat treat</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 866 2003       8001 5.896761 8.461469        2007     1</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 841 2004       8001 5.896761 8.336870        2007     1</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 842 2005       8001 5.896761 8.340217        2007     1</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 819 2006       8001 5.896761 8.378161        2007     1</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 827 2007       8001 5.896761 8.487352        2007     1</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 937 2003       8019 2.232377 4.997212        2007     1</span></span></code></pre></div>
<p>In the examples that follow, our goal is to estimate the effect of
treatment (<code>treat</code>) on log employment (<code>lemp</code>).
Notice that the panel ID is at the county level
(<code>countyreal</code>), but treatment was staggered across cohorts
(<code>first.treat</code>) so that a group of counties were treated at
the same time. In addition to these staggered treatment effects, we also
observe log population (<code>lpop</code>) as a potential,
time-invariant control.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
</div>
<div id="basic-usage" class="section level2">
<h2>Basic usage</h2>
<p>Okay, let’s load <strong>etwfe</strong> and work through its basic
functionality. Given the package name, it won’t surprise you to know
that the key estimating function is <code>etwfe()</code>. Here’s how it
would look for our example dataset.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(etwfe)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">=</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">etwfe</span>(</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">fml  =</span> lemp <span class="sc">~</span> lpop, <span class="co"># outcome ~ (time-invariant) controls</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">tvar =</span> year,        <span class="co"># time variable</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">gvar =</span> first.treat, <span class="co"># group variable</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mpdta,       <span class="co"># dataset</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">vcov =</span> <span class="sc">~</span>countyreal  <span class="co"># vcov adjustment (here: clustered)</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<p>There are a few things to say about our <code>etwfe()</code> argument
choices and other function options, but we’ll leave those details aside
until a bit later. Right now, just know that all of the above arguments
are required except <code>vcov</code> (though I generally recommend it
too, since we probably want to cluster our standard errors at the
individual unit level).</p>
<p>Let’s take a look at our model object.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>mod</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; OLS estimation, Dep. Var.: lemp</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Observations: 2,500 </span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Fixed-effects: first.treat: 4,  year: 5</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Varying slopes: lpop (first.treat: 4),  lpop (year: 5)</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Standard-errors: Clustered (countyreal) </span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                                               Estimate Std. Error   t value</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2004         -0.021248   0.021728 -0.977890</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2005         -0.081850   0.027375 -2.989963</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2006         -0.137870   0.030795 -4.477097</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2007         -0.109539   0.032322 -3.389024</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2006:year::2006          0.002537   0.018883  0.134344</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2006:year::2007         -0.045093   0.021987 -2.050907</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2007:year::2007         -0.045955   0.017975 -2.556568</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2004:lpop_dm  0.004628   0.017584  0.263184</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2005:lpop_dm  0.025113   0.017904  1.402661</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2006:lpop_dm  0.050735   0.021070  2.407884</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2007:lpop_dm  0.011250   0.026617  0.422648</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2006:year::2006:lpop_dm  0.038935   0.016472  2.363731</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2006:year::2007:lpop_dm  0.038060   0.022477  1.693276</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2007:year::2007:lpop_dm -0.019835   0.016198 -1.224528</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                                                Pr(&gt;|t|)    </span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2004         3.2860e-01    </span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2005         2.9279e-03 ** </span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2006         9.3851e-06 ***</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2007         7.5694e-04 ***</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2006:year::2006         8.9318e-01    </span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2006:year::2007         4.0798e-02 *  </span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2007:year::2007         1.0866e-02 *  </span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2004:lpop_dm 7.9252e-01    </span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2005:lpop_dm 1.6134e-01    </span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2006:lpop_dm 1.6407e-02 *  </span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2004:year::2007:lpop_dm 6.7273e-01    </span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2006:year::2006:lpop_dm 1.8474e-02 *  </span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2006:year::2007:lpop_dm 9.1027e-02 .  </span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; .Dtreat:first.treat::2007:year::2007:lpop_dm 2.2133e-01    </span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ... 10 variables were removed because of collinearity (.Dtreat:first.treat::2006:year::2004, .Dtreat:first.treat::2006:year::2005 and 8 others [full set in $collin.var])</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ---</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; RMSE: 0.537131     Adj. R2: 0.87167 </span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                  Within R2: 8.449e-4</span></span></code></pre></div>
<p>What <code>etwfe()</code> has done underneath the hood is construct a
treatment dummy variable <code>.Dtreat</code> and saturated it together
with the other variables of interest as a set of multiway interaction
terms.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></p>
<p>You may also have noticed that our <code>etwfe()</code> call returns
a standard <a href="https://lrberge.github.io/fixest/"><strong>fixest</strong></a>
object, since this is what it uses to perform the underlying estimation.
All of the associated methods and functions from the
<strong>fixest</strong> package are thus compatible with our model
object. For example, we could plot the raw regression coefficients with
<code>fixest::coefplot()</code>, or print them to a nice regression
table with <code>fixest::etable()</code>. However, the raw coefficients
from an <code>etwfe()</code> estimation are not particularly meaningful
in of themselves. Remember that these are complex multiway interaction
terms that are probably hard to to interpret on their own. So, we
probably want to aggregate them along some dimension of interest instead
(e.g., by groups or time, or as an event study). A natural way to
perform these aggregations is by recovering the appropriate marginal
effects. The <strong>etwfe</strong> package provides another convenience
function for doing so: <code>emfx()</code>, which is a thin(ish) wrapper
around <code>marginaleffects::marginaleffects()</code>.</p>
<p>For example, we can recover the average treatment effect as
follows.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">emfx</span>(mod)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       type    term    contrast        dydx  std.error statistic      p.value</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 response .Dtreat mean(dY/dX) -0.05062703 0.01249979 -4.050232 5.116687e-05</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      conf.low  conf.high predicted predicted_hi predicted_lo .Dtreat</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 -0.07512616 -0.0261279  8.555778     8.555769     8.555778       1</span></span></code></pre></div>
<p>Or, we can recover the dynamic treatment effects <em>a la</em> an
event study by invoking the type argument. This time I’ll save the
resulting object since I plan to reuse it in a moment.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>mod_es <span class="ot">=</span> <span class="fu">emfx</span>(mod, <span class="at">type =</span> <span class="st">&quot;event&quot;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># mod_es</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod_es) <span class="co"># Summary print looks a bit nicer</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Term    Contrast event   Effect Std. Error z value   Pr(&gt;|z|)    2.5 %</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 .Dtreat mean(dY/dX)     0 -0.03321    0.01337  -2.484 0.01297951 -0.05941</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 .Dtreat mean(dY/dX)     1 -0.05735    0.01715  -3.343 0.00082830 -0.09097</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 .Dtreat mean(dY/dX)     2 -0.13787    0.03079  -4.477 7.5665e-06 -0.19823</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 .Dtreat mean(dY/dX)     3 -0.10954    0.03232  -3.389 0.00070142 -0.17289</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     97.5 %</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 -0.00701</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 -0.02373</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 -0.07751</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 -0.04619</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Model type:  etwfe </span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Prediction type:  response</span></span></code></pre></div>
<p>(Other types of aggregations include <code>&quot;calendar&quot;</code> (here:
treatment by year effects) and <code>&quot;group&quot;</code> (here: treatment by
cohort).)</p>
<p>Since <code>emfx</code> produces a standard
<code>marginaleffects</code> object, we can pass it on to other
supported methods and packages. For example, we can get get pass it on
to <a href="https://vincentarelbundock.github.io/modelsummary/index.html"><strong>modelsummary</strong></a>
to get a nice regression table of the event study coefficients. Note the
use of the <code>shape</code> and <code>coef_rename</code> arguments
below; these are optional but help to make the output look a bit
nicer.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>rename_fn <span class="ot">=</span> <span class="cf">function</span>(old_names) {</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  new_names <span class="ot">=</span> <span class="fu">gsub</span>(<span class="st">&quot;.Dtreat&quot;</span>, <span class="st">&quot;Years post treatment =&quot;</span>, old_names)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(new_names, old_names)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  mod_es,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">shape =</span> term<span class="sc">:</span>event<span class="sc">:</span>statistic <span class="sc">~</span> model,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_rename =</span>  rename_fn,</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">gof_omit =</span> <span class="st">&quot;Adj|Within|RMSE&quot;</span>,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Event study&quot;</span>,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">notes =</span> <span class="st">&quot;Std. errors are clustered at the county level&quot;</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<table style="NAborder-bottom: 0; width: auto !important; margin-left: auto; margin-right: auto;" class="table">
<caption>
Event study
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
Model 1
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Years post treatment = 0
</td>
<td style="text-align:center;">
−0.033
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.013)
</td>
</tr>
<tr>
<td style="text-align:left;">
Years post treatment = 1
</td>
<td style="text-align:center;">
−0.057
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.017)
</td>
</tr>
<tr>
<td style="text-align:left;">
Years post treatment = 2
</td>
<td style="text-align:center;">
−0.138
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.031)
</td>
</tr>
<tr>
<td style="text-align:left;">
Years post treatment = 3
</td>
<td style="text-align:center;">
−0.110
</td>
</tr>
<tr>
<td style="text-align:left;box-shadow: 0px 1px">
</td>
<td style="text-align:center;box-shadow: 0px 1px">
(0.032)
</td>
</tr>
<tr>
<td style="text-align:left;">
Num.Obs.
</td>
<td style="text-align:center;">
2500
</td>
</tr>
<tr>
<td style="text-align:left;">
R2
</td>
<td style="text-align:center;">
0.873
</td>
</tr>
<tr>
<td style="text-align:left;">
FE..first.treat
</td>
<td style="text-align:center;">
X
</td>
</tr>
<tr>
<td style="text-align:left;">
FE..year
</td>
<td style="text-align:center;">
X
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<sup></sup> Std. errors are clustered at the county level
</td>
</tr>
</tfoot>
</table>
<p>For vizualization, you can pass it on to your preferred plotting
method. For example:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mod_es, <span class="fu">aes</span>(<span class="at">x =</span> event, <span class="at">y =</span> dydx, <span class="at">ymin =</span> conf.low, <span class="at">ymax =</span> conf.high)) <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">col =</span> <span class="st">&quot;grey50&quot;</span>) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>() <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Years post treatment&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Effect on log employment&quot;</span>) <span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="other-families" class="section level2">
<h2>Other families</h2>
<p>A key feature of the ETWFE approach—one that sets it apart from other
advanced DiD implementations and extensions—is that it supports
nonlinear model (distribution / link) families. Users need simply invoke
the <code>family</code> argument. Here’s a brief example, where we
recast our earlier event-study as a Poisson regression.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>mpdta<span class="sc">$</span>emp <span class="ot">=</span> <span class="fu">exp</span>(mpdta<span class="sc">$</span>lemp)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">etwfe</span>(</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  emp <span class="sc">~</span> lpop, <span class="at">tvar =</span> year, <span class="at">gvar =</span> first.treat, <span class="at">data =</span> mpdta, <span class="at">vcov =</span> <span class="sc">~</span>countyreal,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">family =</span> <span class="st">&quot;poisson&quot;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emfx</span>(<span class="st">&quot;event&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Term    Contrast event  Effect Std. Error  z value   Pr(&gt;|z|)   2.5 %</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 .Dtreat mean(dY/dX)     0 -22.849      16.24 -1.40674 0.15950582  -54.68</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 .Dtreat mean(dY/dX)     1   3.654      43.48  0.08405 0.93301382  -81.56</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 .Dtreat mean(dY/dX)     2 -71.521      21.28 -3.36144 0.00077537 -113.22</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 .Dtreat mean(dY/dX)     3 -97.798      26.50 -3.69045 0.00022386 -149.74</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    97.5 %</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   8.986</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  88.865</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 -29.819</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 -45.858</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Model type:  etwfe </span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Prediction type:  response</span></span></code></pre></div>
</div>
<div id="what-is-etwfe-doing-under-the-hood" class="section level2">
<h2>What is etwfe doing under the hood?</h2>
<p>Now that you’ve seen <strong>etwfe</strong> in action, let’s circle
back to what the package is doing under the hood. This section isn’t
necessary for you to use any of the functions. Feel free to skip it. But
a review of the internal details should help you to optimize for
different scenarios and also give you an understanding of
<strong>etwfe’s</strong> default choices.</p>
<p>As I’ve stated several times, the Wooldridge ETWFE approach basically
involves saturating the regression with interaction effects. You can
easily grab the formula of an estimated model to see for yourself.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>mod<span class="sc">$</span>fml_all</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $linear</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; lemp ~ .Dtreat:i(first.treat, i.year, ref = 0, ref2 = 2003)/lpop_dm</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;environment: 0x55c42d9af748&gt;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $fixef</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ~first.treat + first.treat[[lpop]] + year + year[[lpop]]</span></span></code></pre></div>
<p>At this point, however, you may notice a few things. The first is
that our formula references several variables that aren’t in the
original dataset. An obvious one is the <code>.Dtreat</code> treatment
dummy. A more subtle one is <code>lpop_dm</code>, which is the
<em>demeaned</em> (i.e., group-centered) version of our
<code>lpop</code> control variable. All (time-invariant) control
variables have to be demeaned before they are interacted in the ETWFE
setting. Here’s how you could have constructed the dataset ahead of time
and estimated the ETWFE regression manually:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First construct the dataset</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>mpdta2 <span class="ot">=</span> mpdta <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transform</span>(</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">.Dtreat =</span> <span class="fu">as.integer</span>(year <span class="sc">&gt;=</span> first.treat <span class="sc">&amp;</span> first.treat <span class="sc">!=</span> <span class="dv">0</span>),</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">lpop_dm =</span> <span class="fu">ave</span>(lpop, first.treat, year, <span class="at">FUN =</span> \(x) x <span class="sc">-</span> <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Then estimate the manual version of etwfe</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>mod2 <span class="ot">=</span> fixest<span class="sc">::</span><span class="fu">feols</span>(</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  lemp <span class="sc">~</span> .Dtreat<span class="sc">:</span><span class="fu">i</span>(first.treat, i.year, <span class="at">ref =</span> <span class="dv">0</span>, <span class="at">ref2 =</span> <span class="dv">2003</span>) <span class="sc">/</span> lpop_dm <span class="sc">|</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    first.treat[lpop] <span class="sc">+</span> year[lpop],</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> mpdta2,</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">vcov =</span> <span class="sc">~</span>countyreal</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>We can confirm that the manual approach yields the same output as our
original etwfe regression. I’ll use <code>modelsummary</code> to do that
here, since I’ve already loaded it above.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">&quot;etwfe&quot;</span> <span class="ot">=</span> mod, <span class="st">&quot;manual&quot;</span> <span class="ot">=</span> mod2),</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">gof_map =</span> <span class="cn">NA</span> <span class="co"># drop all goodness-of-fit info for brevity</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
etwfe
</th>
<th style="text-align:center;">
manual
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2004
</td>
<td style="text-align:center;">
−0.021
</td>
<td style="text-align:center;">
−0.021
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2005
</td>
<td style="text-align:center;">
−0.082
</td>
<td style="text-align:center;">
−0.082
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.027)
</td>
<td style="text-align:center;">
(0.027)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2006
</td>
<td style="text-align:center;">
−0.138
</td>
<td style="text-align:center;">
−0.138
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.031)
</td>
<td style="text-align:center;">
(0.031)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2007
</td>
<td style="text-align:center;">
−0.110
</td>
<td style="text-align:center;">
−0.110
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.032)
</td>
<td style="text-align:center;">
(0.032)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2006 × year = 2006
</td>
<td style="text-align:center;">
0.003
</td>
<td style="text-align:center;">
0.003
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.019)
</td>
<td style="text-align:center;">
(0.019)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2006 × year = 2007
</td>
<td style="text-align:center;">
−0.045
</td>
<td style="text-align:center;">
−0.045
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2007 × year = 2007
</td>
<td style="text-align:center;">
−0.046
</td>
<td style="text-align:center;">
−0.046
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2004 × lpop_dm
</td>
<td style="text-align:center;">
0.005
</td>
<td style="text-align:center;">
0.005
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2005 × lpop_dm
</td>
<td style="text-align:center;">
0.025
</td>
<td style="text-align:center;">
0.025
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2006 × lpop_dm
</td>
<td style="text-align:center;">
0.051
</td>
<td style="text-align:center;">
0.051
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.021)
</td>
<td style="text-align:center;">
(0.021)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2007 × lpop_dm
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.011
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.027)
</td>
<td style="text-align:center;">
(0.027)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2006 × year = 2006 × lpop_dm
</td>
<td style="text-align:center;">
0.039
</td>
<td style="text-align:center;">
0.039
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.016)
</td>
<td style="text-align:center;">
(0.016)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2006 × year = 2007 × lpop_dm
</td>
<td style="text-align:center;">
0.038
</td>
<td style="text-align:center;">
0.038
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2007 × year = 2007 × lpop_dm
</td>
<td style="text-align:center;">
−0.020
</td>
<td style="text-align:center;">
−0.020
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.016)
</td>
<td style="text-align:center;">
(0.016)
</td>
</tr>
</tbody>
</table>
<p>Let’s switch gears and talk about fixed-effects quickly. If you are a
regular <strong>fixest</strong> user, you may have noticed that we’ve
been invoking its <a href="https://lrberge.github.io/fixest/articles/fixest_walkthrough.html#varying-slopes-fex">varying
slopes</a> syntax in the fixed-effect slot (i.e.,
<code>first.treat[lpop]</code> and <code>year[lpop]</code>). The reason
for this is part practical, part philosophical. From a practical
perspective, <code>factor_var[numeric_var]</code> is equivalent to base
R’s <code>factor_var/numeric_var</code> “nesting” syntax but is much
faster for high-dimensional factors.<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a> From a philosphical perspective,
<strong>etwfe</strong> tries to limit the amount of extraneous
information that it reports to users. Most of the interaction effects in
the ETWFE framework are just acting as controls. By relegating them to
the fixed-effects slot, we can avoid polluting the user’s console with a
load of extra coefficients. Nonetheless, we can control this behaviour
with the <code>fe</code> (“fixed effects”) argument. Consider the
following options and their manual equivalents.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># fe = &quot;feo&quot; (fixed effects only)</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>mod_feo <span class="ot">=</span> <span class="fu">etwfe</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  lemp <span class="sc">~</span> lpop, <span class="at">tvar =</span> year, <span class="at">gvar =</span> first.treat, <span class="at">data =</span> mpdta, <span class="at">vcov =</span> <span class="sc">~</span>countyreal,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">fe =</span> <span class="st">&quot;feo&quot;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># ... which is equivalent to the manual regression</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>mod_feo2 <span class="ot">=</span> fixest<span class="sc">::</span><span class="fu">feols</span>(</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  lemp <span class="sc">~</span> .Dtreat<span class="sc">:</span><span class="fu">i</span>(first.treat, i.year, <span class="at">ref =</span> <span class="dv">0</span>, <span class="at">ref2 =</span> <span class="dv">2003</span>) <span class="sc">/</span> lpop_dm <span class="sc">+</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    lpop <span class="sc">+</span> <span class="fu">i</span>(first.treat, lpop, <span class="at">ref =</span> <span class="dv">0</span>) <span class="sc">+</span> <span class="fu">i</span>(year, lpop, <span class="at">ref =</span> <span class="dv">2003</span>) <span class="sc">|</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    first.treat <span class="sc">+</span> year,</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> mpdta2, <span class="at">vcov =</span> <span class="sc">~</span>countyreal</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="co"># fe = &quot;none&quot;</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>mod_none <span class="ot">=</span> <span class="fu">etwfe</span>(</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  lemp <span class="sc">~</span> lpop, <span class="at">tvar =</span> year, <span class="at">gvar =</span> first.treat, <span class="at">data =</span> mpdta, <span class="at">vcov =</span> <span class="sc">~</span>countyreal,</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">fe =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="co"># ... which is equivalent to the manual regression</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>mod_none2 <span class="ot">=</span> fixest<span class="sc">::</span><span class="fu">feols</span>(</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  lemp <span class="sc">~</span> .Dtreat<span class="sc">:</span><span class="fu">i</span>(first.treat, i.year, <span class="at">ref =</span> <span class="dv">0</span>, <span class="at">ref2 =</span> <span class="dv">2003</span>) <span class="sc">/</span> lpop_dm <span class="sc">+</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    lpop <span class="sc">+</span> <span class="fu">i</span>(first.treat, lpop, <span class="at">ref =</span> <span class="dv">0</span>) <span class="sc">+</span> <span class="fu">i</span>(year, lpop, <span class="at">ref =</span> <span class="dv">2003</span>) <span class="sc">+</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">i</span>(first.treat, <span class="at">ref =</span> <span class="dv">0</span>) <span class="sc">+</span> <span class="fu">i</span>(year, <span class="at">ref =</span> <span class="dv">2003</span>),</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> mpdta2, <span class="at">vcov =</span> <span class="sc">~</span>countyreal</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>I’ll leave it up to you to pass any of these to models
<code>emfx</code> to confirm that they give correct aggregated treatment
effects. But we can quickly demonstrate in a regression table that they
all return the same raw coefficients.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>mods <span class="ot">=</span> <span class="fu">list</span>(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;etwfe&quot;</span>         <span class="ot">=</span> mod,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;manual&quot;</span>        <span class="ot">=</span> mod2,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;etwfe (feo)&quot;</span>   <span class="ot">=</span> mod_feo,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;manual (feo)&quot;</span>  <span class="ot">=</span> mod_feo2,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;etwfe (none)&quot;</span>  <span class="ot">=</span> mod_none,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;manual (none)&quot;</span> <span class="ot">=</span> mod_none2</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(mods, <span class="at">gof_map =</span> <span class="cn">NA</span>)</span></code></pre></div>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
etwfe
</th>
<th style="text-align:center;">
manual
</th>
<th style="text-align:center;">
etwfe (feo)
</th>
<th style="text-align:center;">
manual (feo)
</th>
<th style="text-align:center;">
etwfe (none)
</th>
<th style="text-align:center;">
manual (none)
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2004
</td>
<td style="text-align:center;">
−0.021
</td>
<td style="text-align:center;">
−0.021
</td>
<td style="text-align:center;">
−0.021
</td>
<td style="text-align:center;">
−0.021
</td>
<td style="text-align:center;">
−0.021
</td>
<td style="text-align:center;">
−0.021
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2005
</td>
<td style="text-align:center;">
−0.082
</td>
<td style="text-align:center;">
−0.082
</td>
<td style="text-align:center;">
−0.082
</td>
<td style="text-align:center;">
−0.082
</td>
<td style="text-align:center;">
−0.082
</td>
<td style="text-align:center;">
−0.082
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.027)
</td>
<td style="text-align:center;">
(0.027)
</td>
<td style="text-align:center;">
(0.027)
</td>
<td style="text-align:center;">
(0.027)
</td>
<td style="text-align:center;">
(0.027)
</td>
<td style="text-align:center;">
(0.027)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2006
</td>
<td style="text-align:center;">
−0.138
</td>
<td style="text-align:center;">
−0.138
</td>
<td style="text-align:center;">
−0.138
</td>
<td style="text-align:center;">
−0.138
</td>
<td style="text-align:center;">
−0.138
</td>
<td style="text-align:center;">
−0.138
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.031)
</td>
<td style="text-align:center;">
(0.031)
</td>
<td style="text-align:center;">
(0.031)
</td>
<td style="text-align:center;">
(0.031)
</td>
<td style="text-align:center;">
(0.031)
</td>
<td style="text-align:center;">
(0.031)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2007
</td>
<td style="text-align:center;">
−0.110
</td>
<td style="text-align:center;">
−0.110
</td>
<td style="text-align:center;">
−0.110
</td>
<td style="text-align:center;">
−0.110
</td>
<td style="text-align:center;">
−0.110
</td>
<td style="text-align:center;">
−0.110
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.032)
</td>
<td style="text-align:center;">
(0.032)
</td>
<td style="text-align:center;">
(0.032)
</td>
<td style="text-align:center;">
(0.032)
</td>
<td style="text-align:center;">
(0.032)
</td>
<td style="text-align:center;">
(0.032)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2006 × year = 2006
</td>
<td style="text-align:center;">
0.003
</td>
<td style="text-align:center;">
0.003
</td>
<td style="text-align:center;">
0.003
</td>
<td style="text-align:center;">
0.003
</td>
<td style="text-align:center;">
0.003
</td>
<td style="text-align:center;">
0.003
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.019)
</td>
<td style="text-align:center;">
(0.019)
</td>
<td style="text-align:center;">
(0.019)
</td>
<td style="text-align:center;">
(0.019)
</td>
<td style="text-align:center;">
(0.019)
</td>
<td style="text-align:center;">
(0.019)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2006 × year = 2007
</td>
<td style="text-align:center;">
−0.045
</td>
<td style="text-align:center;">
−0.045
</td>
<td style="text-align:center;">
−0.045
</td>
<td style="text-align:center;">
−0.045
</td>
<td style="text-align:center;">
−0.045
</td>
<td style="text-align:center;">
−0.045
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2007 × year = 2007
</td>
<td style="text-align:center;">
−0.046
</td>
<td style="text-align:center;">
−0.046
</td>
<td style="text-align:center;">
−0.046
</td>
<td style="text-align:center;">
−0.046
</td>
<td style="text-align:center;">
−0.046
</td>
<td style="text-align:center;">
−0.046
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2004 × lpop_dm
</td>
<td style="text-align:center;">
0.005
</td>
<td style="text-align:center;">
0.005
</td>
<td style="text-align:center;">
0.005
</td>
<td style="text-align:center;">
0.005
</td>
<td style="text-align:center;">
0.005
</td>
<td style="text-align:center;">
0.005
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2005 × lpop_dm
</td>
<td style="text-align:center;">
0.025
</td>
<td style="text-align:center;">
0.025
</td>
<td style="text-align:center;">
0.025
</td>
<td style="text-align:center;">
0.025
</td>
<td style="text-align:center;">
0.025
</td>
<td style="text-align:center;">
0.025
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
<td style="text-align:center;">
(0.018)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2006 × lpop_dm
</td>
<td style="text-align:center;">
0.051
</td>
<td style="text-align:center;">
0.051
</td>
<td style="text-align:center;">
0.051
</td>
<td style="text-align:center;">
0.051
</td>
<td style="text-align:center;">
0.051
</td>
<td style="text-align:center;">
0.051
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.021)
</td>
<td style="text-align:center;">
(0.021)
</td>
<td style="text-align:center;">
(0.021)
</td>
<td style="text-align:center;">
(0.021)
</td>
<td style="text-align:center;">
(0.021)
</td>
<td style="text-align:center;">
(0.021)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2004 × year = 2007 × lpop_dm
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.011
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.027)
</td>
<td style="text-align:center;">
(0.027)
</td>
<td style="text-align:center;">
(0.027)
</td>
<td style="text-align:center;">
(0.027)
</td>
<td style="text-align:center;">
(0.027)
</td>
<td style="text-align:center;">
(0.027)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2006 × year = 2006 × lpop_dm
</td>
<td style="text-align:center;">
0.039
</td>
<td style="text-align:center;">
0.039
</td>
<td style="text-align:center;">
0.039
</td>
<td style="text-align:center;">
0.039
</td>
<td style="text-align:center;">
0.039
</td>
<td style="text-align:center;">
0.039
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.016)
</td>
<td style="text-align:center;">
(0.016)
</td>
<td style="text-align:center;">
(0.016)
</td>
<td style="text-align:center;">
(0.016)
</td>
<td style="text-align:center;">
(0.016)
</td>
<td style="text-align:center;">
(0.016)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2006 × year = 2007 × lpop_dm
</td>
<td style="text-align:center;">
0.038
</td>
<td style="text-align:center;">
0.038
</td>
<td style="text-align:center;">
0.038
</td>
<td style="text-align:center;">
0.038
</td>
<td style="text-align:center;">
0.038
</td>
<td style="text-align:center;">
0.038
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
</tr>
<tr>
<td style="text-align:left;">
.Dtreat × first.treat = 2007 × year = 2007 × lpop_dm
</td>
<td style="text-align:center;">
−0.020
</td>
<td style="text-align:center;">
−0.020
</td>
<td style="text-align:center;">
−0.020
</td>
<td style="text-align:center;">
−0.020
</td>
<td style="text-align:center;">
−0.020
</td>
<td style="text-align:center;">
−0.020
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.016)
</td>
<td style="text-align:center;">
(0.016)
</td>
<td style="text-align:center;">
(0.016)
</td>
<td style="text-align:center;">
(0.016)
</td>
<td style="text-align:center;">
(0.016)
</td>
<td style="text-align:center;">
(0.016)
</td>
</tr>
<tr>
<td style="text-align:left;">
lpop
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.065
</td>
<td style="text-align:center;">
1.065
</td>
<td style="text-align:center;">
1.065
</td>
<td style="text-align:center;">
1.065
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
<td style="text-align:center;">
(0.022)
</td>
</tr>
<tr>
<td style="text-align:left;">
first.treat = 2004 × lpop
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.051
</td>
<td style="text-align:center;">
0.051
</td>
<td style="text-align:center;">
0.051
</td>
<td style="text-align:center;">
0.051
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.038)
</td>
<td style="text-align:center;">
(0.038)
</td>
<td style="text-align:center;">
(0.038)
</td>
<td style="text-align:center;">
(0.038)
</td>
</tr>
<tr>
<td style="text-align:left;">
first.treat = 2006 × lpop
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
−0.041
</td>
<td style="text-align:center;">
−0.041
</td>
<td style="text-align:center;">
−0.041
</td>
<td style="text-align:center;">
−0.041
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.047)
</td>
<td style="text-align:center;">
(0.047)
</td>
<td style="text-align:center;">
(0.047)
</td>
<td style="text-align:center;">
(0.047)
</td>
</tr>
<tr>
<td style="text-align:left;">
first.treat = 2007 × lpop
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.056
</td>
<td style="text-align:center;">
0.056
</td>
<td style="text-align:center;">
0.056
</td>
<td style="text-align:center;">
0.056
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.039)
</td>
<td style="text-align:center;">
(0.039)
</td>
<td style="text-align:center;">
(0.039)
</td>
<td style="text-align:center;">
(0.039)
</td>
</tr>
<tr>
<td style="text-align:left;">
year = 2004 × lpop
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.011
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.008)
</td>
<td style="text-align:center;">
(0.008)
</td>
<td style="text-align:center;">
(0.008)
</td>
<td style="text-align:center;">
(0.008)
</td>
</tr>
<tr>
<td style="text-align:left;">
year = 2005 × lpop
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.021
</td>
<td style="text-align:center;">
0.021
</td>
<td style="text-align:center;">
0.021
</td>
<td style="text-align:center;">
0.021
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.008)
</td>
<td style="text-align:center;">
(0.008)
</td>
<td style="text-align:center;">
(0.008)
</td>
<td style="text-align:center;">
(0.008)
</td>
</tr>
<tr>
<td style="text-align:left;">
year = 2006 × lpop
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.011
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.011)
</td>
<td style="text-align:center;">
(0.011)
</td>
<td style="text-align:center;">
(0.011)
</td>
<td style="text-align:center;">
(0.011)
</td>
</tr>
<tr>
<td style="text-align:left;">
year = 2007 × lpop
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.021
</td>
<td style="text-align:center;">
0.021
</td>
<td style="text-align:center;">
0.021
</td>
<td style="text-align:center;">
0.021
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.012)
</td>
<td style="text-align:center;">
(0.012)
</td>
<td style="text-align:center;">
(0.012)
</td>
<td style="text-align:center;">
(0.012)
</td>
</tr>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
2.260
</td>
<td style="text-align:center;">
2.260
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.088)
</td>
<td style="text-align:center;">
(0.088)
</td>
</tr>
<tr>
<td style="text-align:left;">
first.treat = 2004
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.038
</td>
<td style="text-align:center;">
0.038
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.154)
</td>
<td style="text-align:center;">
(0.154)
</td>
</tr>
<tr>
<td style="text-align:left;">
first.treat = 2006
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.461
</td>
<td style="text-align:center;">
0.461
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.213)
</td>
<td style="text-align:center;">
(0.213)
</td>
</tr>
<tr>
<td style="text-align:left;">
first.treat = 2007
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
−0.286
</td>
<td style="text-align:center;">
−0.286
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.167)
</td>
<td style="text-align:center;">
(0.167)
</td>
</tr>
<tr>
<td style="text-align:left;">
year = 2004
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
−0.090
</td>
<td style="text-align:center;">
−0.090
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.031)
</td>
<td style="text-align:center;">
(0.031)
</td>
</tr>
<tr>
<td style="text-align:left;">
year = 2005
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
−0.110
</td>
<td style="text-align:center;">
−0.110
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.033)
</td>
<td style="text-align:center;">
(0.033)
</td>
</tr>
<tr>
<td style="text-align:left;">
year = 2006
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
−0.052
</td>
<td style="text-align:center;">
−0.052
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.040)
</td>
<td style="text-align:center;">
(0.040)
</td>
</tr>
<tr>
<td style="text-align:left;">
year = 2007
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
−0.057
</td>
<td style="text-align:center;">
−0.057
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
(0.045)
</td>
<td style="text-align:center;">
(0.045)
</td>
</tr>
</tbody>
</table>
</div>
<div class="footnotes footnotes-end-of-document">
<hr />
<ol>
<li id="fn1"><p>Good textbook introductions to DiD are available <a href="https://theeffectbook.net/ch-DifferenceinDifference.html">here</a>
and <a href="https://mixtape.scunning.com/09-difference_in_differences">here</a>,
among many other places.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>The time-invariance property is important; time-varying
controls are not allowed in the ETWFE framework. But you can also omit
controls if you don’t have any.<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>It has also demeaned the <code>lpop</code> control
variable, but that again is something we’ll get back too later. It’s not
particularly important for interpreting the final results.<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>Another option would be to use
<code>fixest::etable()</code><a href="#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>We won’t see a speed-up for this small dataset, but it
can make a significant difference for large datasets.<a href="#fnref5" class="footnote-back">↩︎</a></p></li>
</ol>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
